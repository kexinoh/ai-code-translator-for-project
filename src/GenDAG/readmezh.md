# 生成DAG图

这里是生成DAG图代码的地方。  
只有生成了DAG图才能保证代码生成的有序性。  

对于项目文件的DAG图同样也是使用AI来完成，主要有以下考虑；
## 1.引入第三方的DAG识别会使得项目笨重
在大多数情况下，我们会使用AST来完成DAG图的绘制，但是对于一个多语言管理工具而言，想要实现这一点十分困难。你需要准备好所有语言的AST解析器才能开始工作。  
这会使得项目本身的跨平台跨语言能力大大减弱。  
## 2.找到所有语言的py的AST包可能也是困难的
例如你想在python里面找到解析lua的AST包可能是困难的（应该是吧，其实我没有找过）。  

因此我们使用AI来完成DAG绘制。

# 方法
## 1.寻找import语句
在大多数语言（可能是全部？）中，导入相应的文件或者库存在一个很明显的关键词，例如python里面的improt或者lua里面的require，又或者是C里面的include。  
为了可移植性，我们不建议导入的时候使用绝对地址，这会增加AI识别的难度。  
我们第一步使用简单的过滤py脚本来过滤项目中每一个代码文件中所包含导入，并复制到我们准备的临时文件夹。  

## 2.进行拼接和生成
所有的代码文件都会被赋予一个唯一id(指就是从根目录下到具体的代码文件地址)。  
然后会有一个dict存储着每一个代码文件所对应的引入包所组成的dict，类似于DAGdict={"a.py":{b.py,c.py},"b.py":{c.py},"c.py":{} }  。
当我们提取了c.py之后，那么我们就会更新DAGdict,删掉每一个代码文件中存在的c.py,使得它变为DAGdict={"a.py":{b.py},"b.py":{}}  。
这会帮助我们成功梳理出文件的顺序，最终全部导入CodeOrder.txt中，为后续分析打下坚实的基础。
